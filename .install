
ANOBISCRIPT=${1:-\$HOME/.scripts}

# Homebrew
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" && \
brew install bash gawk diffutils wget coreutils findutils grep gnu-sed binutils curl

# Bash
sudo bash -c 'if ! $(grep -q "^/usr/local/bin/bash$" /etc/shells); then echo /usr/local/bin/bash >> /etc/shells; fi'
chsh -s /usr/local/bin/bash

# RVM
curl -sSL https://get.rvm.io | bash -s stable
source $HOME/.rvm/scripts/rvm

# Ruby
rvm install --quiet-curl ruby-2.6.3 && rvm use ruby-2.6.3 --default
gem install cocoapods

# AnobiScript
eval git clone git@github.com:Anobisoft/AnobiScript.git "$ANOBISCRIPT" && \
if ! $(grep -q '^source .anobi_profile$' ~/.bash_profile); then
    echo -e '
export PATH="$PATH:'"$ANOBISCRIPT"'"
source .anobi_profile
' >> $HOME/.bash_profile
fi

eval $ANOBISCRIPT/.brewfix >> $HOME/.bash_profile
eval ln -f $ANOBISCRIPT/.config/alacritty.yml $HOME/.config/alacritty/alacritty.yml
